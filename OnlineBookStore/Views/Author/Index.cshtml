@using PagedList.Mvc
@model PagedList.IPagedList<OnlineBookStore.Models.Entities.AUTHOR>

<link href="~/Content/PagedList.css" rel="stylesheet" />

@{
    Layout = "~/Views/Shared/BackendLayout.cshtml";
}


<!DOCTYPE html>

<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <title>Index</title>
</head>
<body>
    <h2>Tìm kiếm tác giả:</h2>
    @using (Html.BeginForm("Index", "Author", FormMethod.Get))
    {
<div class="input-group">
    @Html.TextBox("search", null, new { @class = "form-input" })
    <button type="submit" class='btn btn-default'><i class="fas fa-search"></i> Tìm kiếm</button>
</div>
        <div style="float:right">
            <h2>
                <a href="~/Author/Create" class='btn btn-default'><span class="fas fa-plus-circle"></span> Thêm tác giả</a>
            </h2>
        </div>
    }
    <br />
    <table class="table" style="font-size:15px">
        <tr>
            <th style="text-align: left">
                Tên tác giả
            </th>
            <th></th>
        </tr>
        @if (Model.Count() == 0)
        {
            <tr>
                <td colspan="5"> Không tìm thấy kết quả nào :( </td>
            </tr>
        }
        else
        {
            foreach (var item in Model)
            {
    <tr>
        <td style="text-align: left">
            @Html.DisplayFor(modelItem => item.AUTHORNAME)
        </td>
        @if (item.AUTHORID != 0)
        {
            <td style="text-align: right">
                @Html.ActionLink("Sửa", "Edit", new { id = item.AUTHORID }) |
                @Html.ActionLink("Chi tiết", "Details", new { id = item.AUTHORID }) |
                @Html.ActionLink("Xóa", "Delete", new { id = item.AUTHORID })
            </td>
        }
    </tr>
            }
        }
    </table>
    <div class="text-center" style="text-align: center">
        <ul class="pagination">
            Trang  @(Model.PageCount < Model.PageNumber ? 0 : Model.PageNumber)
            / @Model.PageCount

            @Html.PagedListPager(Model, pageNum => Url.Action("Index", new
            {
                pageNum,
                search = Request.QueryString["search"]
            }))
        </ul>
    </div>

</body>
</html>
